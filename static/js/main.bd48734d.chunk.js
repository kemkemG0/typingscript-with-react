(this["webpackJsonptyping-script"]=this["webpackJsonptyping-script"]||[]).push([[0],{13:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),c=n(3),s=n.n(c),o=(n(13),n(2)),a=n(4),d=n(8),u=[["\u3053\u3093\u306b\u3061\u306f\u4e16\u754c","KONNNITIHASEKAI"],["22\u3053\u3093\u306b\u3061\u306f\u4e16\u754c22","22KONNNITIHASEKAI22"],["33\u3053\u3093\u306b\u3061\u306f\u4e16\u754c33","33KONNNITIHASEKAI33"],["44\u3053\u3093\u306b\u3061\u306f\u4e16\u754c44","44KONNNITIHASEKAI44"],["55\u3053\u3093\u306b\u3061\u306f\u4e16\u754c55","55KONNNITIHASEKAI55"],["66\u3053\u3093\u306b\u3061\u306f\u4e16\u754c66","66KONNNITIHASEKAI66"]],l={contentsID:0,rawString:u[0][0],alphabetString:u[0][1],listeningCharIndex:0,allInputCount:0,doneCharCount:0,displayType:"INIT",timeCount:0},j=Object(a.b)({name:"game",initialState:l,reducers:{keypressed:function(e,t){var n=t.payload.pressedKeyCode,r=e.alphabetString[e.listeningCharIndex];if(e.allInputCount+=1,String.fromCharCode(n)===r&&(e.listeningCharIndex+=1,e.doneCharCount+=1),e.listeningCharIndex===e.alphabetString.length)if(e.listeningCharIndex=0,e.contentsID+=1,e.contentsID!==u.length){var i=Object(d.a)(u[e.contentsID],2);e.rawString=i[0],e.alphabetString=i[1]}else e.displayType="RESULT"},changeDisplayType:function(e,t){return"INIT"===t.payload?e=l:e.displayType=t.payload,e},setTimeCount:function(e,t){e.timeCount=t.payload}}}),b=j.actions,O=b.keypressed,p=b.changeDisplayType,h=b.setTimeCount,f={padding:"0.5em",borderRadius:"1em",background:"lightslategray",margin:"150px auto",width:"600px",height:"400px",textAlign:"center",position:"relative"},x={background:"lavender",position:"absolute",width:"90%",height:"50%",borderRadius:"1em",transform:"translate(-50%, -50%)",top:"50%",left:"50%"},y={letterSpacing:"5px",position:"absolute",width:"100%",top:"45%",left:"50%",transform:"translate(-50%, 0%)",fontSize:"25px"},I={color:"white",position:"absolute",top:"10%",right:"10%"},v=n(1),g={color:"darkgray"},C=function(){var e=Object(o.c)((function(e){return e.listeningCharIndex})),t=Object(o.c)((function(e){return e.alphabetString})),n=t.substr(0,e),r=t.substr(e);return Object(v.jsxs)("div",{children:[Object(v.jsx)("span",{style:g,children:n}),Object(v.jsx)("span",{children:r})]})},m=function(){var e=Object(o.c)((function(e){return e.rawString}));return Object(v.jsx)("div",{children:e})},w=function(){var e=Object(o.c)((function(e){return e.allInputCount})),t=Object(o.c)((function(e){return e.doneCharCount}))/e*100||0,n=Object(o.b)(),i=Object(o.c)((function(e){return e.timeCount}));0===i&&n(h(performance.now()));var c=Object(o.c)((function(e){return e.timeCount}));return Object(r.useEffect)((function(){var e=setInterval((function(){n(h((performance.now()-c)/1e3))}),5);return function(){return clearInterval(e)}}),[]),Object(v.jsxs)(v.Fragment,{children:["\u7d4c\u904e\u6642\u9593:",i.toFixed(2),"\u79d2",Object(v.jsxs)("div",{children:["\u6b63\u7b54\u7387\u306f",t.toFixed(2),"%\u3067\u3059"]})]})},N=function(){var e=Object(o.b)(),t=Object(r.useCallback)((function(t){var n={pressedKeyCode:t.keyCode};e(O(n))}),[]);return Object(r.useEffect)((function(){return window.addEventListener("keydown",t,!1),function(){window.removeEventListener("keydown",t,!1)}}),[]),Object(v.jsxs)("div",{style:f,children:[Object(v.jsx)("div",{style:I,children:Object(v.jsx)(w,{})}),Object(v.jsx)("div",{style:x,children:Object(v.jsxs)("div",{style:y,children:[Object(v.jsx)(m,{}),Object(v.jsx)(C,{})]})})]})},S=(n(19),function(){var e=Object(o.b)(),t=Object(r.useCallback)((function(t){32!==t.keyCode&&13!==t.keyCode||e(p("GAME"))}),[]);return Object(r.useEffect)((function(){return window.addEventListener("keydown",t,!1),function(){window.removeEventListener("keydown",t,!1)}}),[]),Object(v.jsx)("div",{style:f,children:Object(v.jsx)("div",{style:x,children:Object(v.jsx)("div",{style:y,children:"Space\u307e\u305f\u306fEnter\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044"})})})}),E=function(){var e=Object(o.c)((function(e){return e})),t=e.allInputCount,n=e.doneCharCount,r=e.timeCount,i=n/t*100||0,c=i*i*i/r/10,s=Object(o.b)();return Object(v.jsxs)("div",{style:f,children:[Object(v.jsxs)("div",{style:I,children:[Object(v.jsx)("br",{}),"\u5165\u529b\u6570:",t," \u6b63\u89e3\u6570:",n,"\u30df\u30b9:",t-n,"\u6b63\u7b54\u7387:",i.toFixed(2),"%"]}),Object(v.jsxs)("div",{style:x,children:[Object(v.jsxs)("div",{children:["TIME:",r.toFixed(2),"\u79d2"]}),Object(v.jsxs)("div",{style:y,children:["SCORE: ",c.toFixed(0),Object(v.jsx)("div",{children:Object(v.jsx)("button",{type:"button",onClick:function(){s(p("INIT"))},children:"PLAY AGAIN"})})]})]})]})},T=function(){switch(Object(o.c)((function(e){return e.displayType}))){case"INIT":return Object(v.jsx)(S,{});case"GAME":return Object(v.jsx)(N,{});default:return Object(v.jsx)(E,{})}},A=Object(a.a)({reducer:j.reducer});s.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(o.a,{store:A,children:Object(v.jsx)("div",{className:"container",children:Object(v.jsx)(T,{})})})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.bd48734d.chunk.js.map